"use strict";(self.webpackChunkmonster=self.webpackChunkmonster||[]).push([[221],{1221:(_t,h,f)=>{f.r(h),f.d(h,{OffersRoutes:()=>pt});var l=f(177),p=f(9417),c=f(2438),_=f(4550),d=f(1555),u=f(1858),v=f(8451);let b=[{db_name:"geo_targeting.country_allow",field_name:"Geo",selected:!0,description:""},{db_name:"currency",field_name:"Currency",selected:!0,description:""},{db_name:"device_targeting.os",field_name:"OS",selected:!0,description:""},{db_name:"payout",field_name:"Payout",selected:!0,description:""},{db_name:"payout_type",field_name:"Payout Type",selected:!0,description:""},{db_name:"preview_url",field_name:"Preview",selected:!0,description:""},{db_name:"jumps",field_name:"Redirection Count",selected:!0,description:""}];var t=f(3953),F=f(5794),k=f(1626),O=f(8701);let y=(()=>{class i{constructor(e,s){this.http=e,this.authenticationService=s,this.routeType="",this.domain="",this.domain=s.getSubDomain();let n=this.authenticationService.getUserDetails;n&&(n.permissions.includes("network")?(this.routeType="network",n.loginType&&(this.routeType=n.loginType)):n.permissions.includes("publisher")?this.routeType="publisher":n.permissions.includes("advertiser")&&(this.routeType=n.loginType))}getOffers(e){return this.http.post(this.domain+"/api/get/"+this.routeType+"/offers",e)}countOffers(e){return this.http.post(this.domain+"/api/count/"+this.routeType+"/offers",e)}publisherApplyOffersRequest(e){return this.http.post(this.domain+"/api/publisher/apply/offers/request",e)}getOneOfferDetails(e){return this.http.get(this.domain+"/api/offer/show/"+e,{})}showPlatform(e){return this.http.get(this.domain+"/api/platform/show/"+e)}exportPublisherOffer(e){return this.http.post(this.domain+"/api/save/report",e)}static#t=this.\u0275fac=function(s){return new(s||i)(t.KVO(k.Qq),t.KVO(O.k))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const D=i=>["/offers/detail",i];function R(i,o){if(1&i&&(t.j41(0,"option",29),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function j(i,o){if(1&i&&(t.j41(0,"option",29),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.key),t.R7$(),t.JRh(e.value)}}function C(i,o){if(1&i&&(t.j41(0,"option",34),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.R7$(),t.JRh(e.key)}}function E(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",18)(1,"select",22),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG(2);return t.DH7(r.status,n)||(r.status=n),t.Njj(n)}),t.j41(2,"option",23),t.EFF(3,"Select Status"),t.k0s(),t.DNE(4,C,2,1,"option",33),t.nI1(5,"keyvalue"),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.R50("ngModel",e.status),t.R7$(3),t.Y8G("ngForOf",t.bMT(5,2,e.statusList))}}function I(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",17)(1,"div",9)(2,"div",18)(3,"input",19),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.DH7(r.offerId,n)||(r.offerId=n),t.Njj(n)}),t.k0s()(),t.j41(4,"div",18)(5,"input",20),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.DH7(r.offerName,n)||(r.offerName=n),t.Njj(n)}),t.k0s()(),t.j41(6,"div",18)(7,"input",21),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.DH7(r.appId,n)||(r.appId=n),t.Njj(n)}),t.k0s()(),t.j41(8,"div",18)(9,"select",22),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.DH7(r.os,n)||(r.os=n),t.Njj(n)}),t.j41(10,"option",23),t.EFF(11,"Select OS"),t.k0s(),t.DNE(12,R,2,2,"option",24),t.k0s()(),t.j41(13,"div",18)(14,"select",22),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.DH7(r.country,n)||(r.country=n),t.Njj(n)}),t.j41(15,"option",23),t.EFF(16,"Select Country"),t.k0s(),t.j41(17,"option",25),t.EFF(18,"None"),t.k0s(),t.DNE(19,j,2,2,"option",24),t.k0s()(),t.DNE(20,E,6,4,"div",26),t.j41(21,"div",18)(22,"select",27),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.DH7(r.limit,n)||(r.limit=n),t.Njj(n)}),t.j41(23,"option",28),t.EFF(24,"Select Limit"),t.k0s(),t.j41(25,"option",29),t.EFF(26,"10"),t.k0s(),t.j41(27,"option",29),t.EFF(28,"20"),t.k0s(),t.j41(29,"option",29),t.EFF(30,"50"),t.k0s(),t.j41(31,"option",29),t.EFF(32,"100"),t.k0s(),t.j41(33,"option",29),t.EFF(34,"250"),t.k0s(),t.j41(35,"option",29),t.EFF(36,"500"),t.k0s(),t.j41(37,"option",29),t.EFF(38,"1000"),t.k0s()()()(),t.j41(39,"div",9)(40,"div",30)(41,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.totalOffers=0)})("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onFilter())}),t.EFF(42,"Filter"),t.k0s(),t.j41(43,"button",32),t.EFF(44,"Reset"),t.k0s()()()()}if(2&i){const e=t.XpG();t.Y8G("ngClass",e.showOptions?"show-fields":"hide-fields"),t.R7$(3),t.R50("ngModel",e.offerId),t.R7$(2),t.R50("ngModel",e.offerName),t.R7$(2),t.R50("ngModel",e.appId),t.R7$(2),t.R50("ngModel",e.os),t.R7$(3),t.Y8G("ngForOf",e.osList),t.R7$(2),t.R50("ngModel",e.country),t.R7$(5),t.Y8G("ngForOf",e.countryList),t.R7$(),t.Y8G("ngIf","all"==e.offerVisibleType),t.R7$(2),t.R50("ngModel",e.limit),t.R7$(),t.Y8G("value",0),t.R7$(2),t.Y8G("value",10),t.R7$(2),t.Y8G("value",20),t.R7$(2),t.Y8G("value",50),t.R7$(2),t.Y8G("value",100),t.R7$(2),t.Y8G("value",250),t.R7$(2),t.Y8G("value",500),t.R7$(2),t.Y8G("value",1e3)}}function S(i,o){if(1&i&&(t.j41(0,"td")(1,"span",42),t.EFF(2),t.nI1(3,"shorten3"),t.k0s()()),2&i){const e=t.XpG(3).$implicit,s=t.XpG(2);t.R7$(),t.FS9("ngbTooltip",s.getCountries(e.geo_targeting.country_allow)),t.R7$(),t.SpI(" ",t.bMT(3,2,s.getCountries(e.geo_targeting.country_allow))," ")}}function $(i,o){if(1&i&&(t.j41(0,"td"),t.EFF(1),t.j41(2,"div"),t.EFF(3),t.k0s()()),2&i){const e=t.XpG(2).$implicit,s=t.XpG().$implicit;t.R7$(),t.SpI(" ",s[e.db_name]," "),t.R7$(2),t.JRh(s.payout_type.enum_type)}}function G(i,o){if(1&i&&(t.qex(0),t.nrm(1,"img",44),t.bVm()),2&i){const e=o.ngIf,s=t.XpG(6);t.R7$(),t.Y8G("src","../../../../assets/images/icon/"+s.getOSIcon(e),t.B4B)}}function T(i,o){if(1&i&&(t.j41(0,"td")(1,"a",43),t.DNE(2,G,2,1,"ng-container",41),t.k0s()()),2&i){t.XpG();const e=t.sdS(5),s=t.XpG(2).$implicit;t.R7$(),t.FS9("ngbTooltip",s.app_id),t.Y8G("href",s.preview_url,t.B4B),t.R7$(),t.Y8G("ngIf",null==s||null==s.device_targeting?null:s.device_targeting.os)("ngIfElse",e)}}function x(i,o){1&i&&(t.j41(0,"span"),t.nrm(1,"img",45),t.k0s())}function w(i,o){if(1&i&&(t.j41(0,"td")(1,"div"),t.EFF(2),t.nI1(3,"number"),t.k0s()()),2&i){const e=t.XpG(3).$implicit;t.R7$(2),t.JRh(t.i5U(3,1,e.payout,"1.1-4"))}}function N(i,o){if(1&i&&(t.qex(0),t.DNE(1,S,4,4,"td",14)(2,$,4,2,"td",14)(3,T,3,4,"td",14)(4,x,2,0,"ng-template",null,1,t.C5r)(6,w,4,4,"td",14),t.bVm()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","geo_targeting.country_allow"==e.db_name),t.R7$(),t.Y8G("ngIf","geo_targeting.country_allow"!=e.db_name&&"device_targeting.os"!=e.db_name&&"payout"!=e.db_name&&"payout_type"!=e.db_name&&"updatedAt"!=e.db_name&&"preview_url"!=e.db_name&&"jumps"!=e.db_name),t.R7$(),t.Y8G("ngIf","device_targeting.os"===e.db_name),t.R7$(3),t.Y8G("ngIf","payout"==e.db_name)}}function Y(i,o){if(1&i&&(t.qex(0),t.DNE(1,N,7,4,"ng-container",14),t.bVm()),2&i){const e=o.$implicit,s=t.XpG(3);t.R7$(),t.Y8G("ngIf",s.selectedColumns.includes(e.db_name))}}function X(i,o){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",46)(2,"button",47),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.applySingleOffer(n._id))}),t.EFF(3," Apply "),t.k0s()(),t.bVm()}}function V(i,o){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.ZvI("label text-white p-1 rounded-1 ",e.status," bg-success"),t.R7$(),t.SpI(" ",e.status," ")}}function B(i,o){if(1&i&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"img",36),t.k0s(),t.j41(3,"td",37)(4,"a",38)(5,"span",39),t.EFF(6),t.nI1(7,"shorten"),t.k0s()(),t.j41(8,"p"),t.EFF(9),t.k0s()(),t.DNE(10,Y,2,1,"ng-container",35),t.j41(11,"td",40),t.DNE(12,X,4,0,"ng-container",41)(13,V,2,4,"ng-template",null,0,t.C5r),t.k0s()()),2&i){const e=o.$implicit,s=t.sdS(14),n=t.XpG(2);t.R7$(2),t.FS9("src",e.thumbnail,t.B4B),t.R7$(),t.FS9("title",e.offer_name),t.R7$(),t.Y8G("routerLink",t.eq3(10,D,e._id)),t.R7$(2),t.JRh(t.bMT(7,8,e.offer_name)),t.R7$(3),t.SpI("(",e._id,")"),t.R7$(),t.Y8G("ngForOf",n.columnsList),t.R7$(2),t.Y8G("ngIf","new"==e.status)("ngIfElse",s)}}function M(i,o){if(1&i&&(t.j41(0,"tbody"),t.DNE(1,B,15,12,"tr",35),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.offersData)}}let g=(()=>{class i{constructor(e,s,n,r,a){this.activatedRoute=e,this.router=s,this.toasterService=n,this.modalService=r,this.offerService=a,this.showOptions=!1,this.offerVisibleType="all",this.offerId="",this.offerName="",this.appId="",this.os="",this.country="",this.status="",this.limit=100,this.page=1,this.pageSize=10,this.jumpPage=1,this.offersData=[],this.selectedColumns=[],this.totalOffers=0,this.newOffersCount=0,this.sortOrder=!0,this.columnsList=b.map(m=>Object.assign({},m)),this.osList=d.config.OS,this.deviceList=d.config.DEVICE,this.countryList=d.config.country,this.statusList=d.config.PUBLISHER_OFFERS_STATUS,this.selectedApplyOffers=[],this.onResize()}ngOnInit(){this.router.url.includes("/offers/active")&&(this.offerVisibleType="active"),this.router.url.includes("/offers/public")&&(this.offerVisibleType="public"),this.router.url.includes("/offers/private")&&(this.offerVisibleType="private"),this.activatedRoute.queryParams.subscribe(e=>{e.offer_id&&(this.offerId=e.offer_id),e.offer_name&&(this.offerName=e.offer_name),e.app_id&&(this.appId=e.app_id),e.os&&(this.os=e.os),e.country&&(this.country=e.country),e.status&&(this.status=e.status),e.page&&(this.page=+e.page),e.limit&&(this.limit=+e.limit)}),this.onFilter()}onFilter(){this.jumpPage=this.page,this.offersData=[],console.log("offersData--\x3e",this.offersData),this.newOffersCount=0;let e=this.formatFilter();e.offerVisibleType=this.offerVisibleType,JSON.stringify(e)!==JSON.stringify({})&&this.offerService.getOffers(e).subscribe(s=>{s.err?this.toasterService.error(s.msg,"Error!"):s.payload.data&&s.payload.data.length&&(this.offersData=s.payload.data,console.log("offersData1--\x3e",this.offersData),this.offersData.map(n=>{n.jumps||(n.jumps=0)}))},s=>{this.toasterService.error("Something went wrong. Please try again.","Error!")})}formatFilter(){let e={},s={};if(this.columnsList.map(n=>{n.selected&&this.selectedColumns.push(n.db_name)}),this.selectedColumns.length&&(e.column=this.selectedColumns),this.offerId.trim()){let n=this.offerId.split(","),r=[];for(let a of n)a.trim()&&r.push(a.trim());if(r.length){if(r.length>10)return this.toasterService.info("Maximum limit of offer ids is 10.","Info!"),{};e.offer_id=r,s.offer_id=r.toString()}}return this.offerName.trim()&&(e.offer_name=s.offer_name=this.offerName.trim()),this.appId.trim()&&(e.app_id=s.app_id=this.appId.trim()),this.os.trim()&&(e.os=s.os=this.os.trim()),this.country.trim()&&(e.country=s.country=this.country.trim()),this.status.trim()&&(e.status=s.status=this.status.trim()),this.limit&&(e.limit=s.limit=this.limit),this.page&&(e.page=this.page),this.navigateToLink(s),e}navigateToLink(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:e,skipLocationChange:!1})}onJumpPage(){isNaN(this.jumpPage)||+this.jumpPage<1?this.toasterService.error("Invalid page no.","Error!"):(this.page=+this.jumpPage,this.onFilter())}sortTable(){this.sortOrder=!this.sortOrder,this.offersData.sort(this.sortOrder?(e,s)=>parseInt(s.jumps)-parseInt(e.jumps):(e,s)=>parseInt(e.jumps)-parseInt(s.jumps))}onReset(){this.columnsList=this.publisherOfferFields.map(e=>Object.assign({},e)),this.offerId="",this.offerName="",this.appId="",this.os="",this.country="",this.status="",this.limit=100,this.page=1,this.offersData=[],this.totalOffers=0,this.newOffersCount=0}getCountries(e){let s="";for(let n of e)s+=n.key+", ";return s.slice(0,-2)}saveSelectedApplyOffers(e,s){e?this.selectedApplyOffers.includes(s)||this.selectedApplyOffers.push(s):this.selectedApplyOffers.includes(s)&&(this.selectedApplyOffers=this.selectedApplyOffers.filter(n=>n!=s))}applySingleOffer(e){e&&this.offerService.publisherApplyOffersRequest({offerIds:[e]}).subscribe(s=>{if(s.err)this.toasterService.error(s.msg,"Error!");else{for(let n of s.payload){let r=this.offersData.findIndex(a=>a._id.toString()==n.offer_id.toString());this.offersData[r].status=n.status}this.toasterService.success(s.msg,"Success!")}})}openBasicModal(){if(this.selectedApplyOffers.length){this.modal={title:"Apply Offer",body:"Confirm if you want to apply selected offers.",style:{centered:!0,size:u.or.lg,scrollable:!0},type:u.q3.Confirm,backdropClass:"light-blue-backdrop",windowClass:"dark-modal",hideCloseButton:!0,closeOnOutsideClick:!1,animation:!0,keyboard:!1};const e=this.modalService.open(this.modal.style);e.componentInstance.modal=this.modal,e.result.then(s=>{"true"==s&&this.offerService.publisherApplyOffersRequest({offerIds:this.selectedApplyOffers}).subscribe(n=>{if(n.err)this.toasterService.error(n.msg,"Error!");else{for(let r of n.payload){let a=this.offersData.findIndex(m=>m._id.toString()==r.offer_id.toString());this.offersData[a].status=r.status}this.toasterService.success(n.msg,"Success!")}})})}else this.toasterService.info("Please select at least one offer.","Info!")}onResize(){this.innerWidth=window.innerWidth}getPage(e){this.page=e,this.onFilter()}getOSIcon(e){return{android:"android.svg",ios:"ios.svg",windows:"windows.svg",all:"all.png"}[e]||"unknown.svg"}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(_.nX),t.rXU(_.Ix),t.rXU(F.tw),t.rXU(c.Bq),t.rXU(y))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-all-offers"]],hostBindings:function(s,n){1&s&&t.bIt("resize",function(a){return n.onResize(a)},!1,t.tSv)},standalone:!0,features:[t.aNF],decls:32,vars:8,consts:[["elseBlock",""],["unknown",""],[1,"card"],[1,"card-header","bg-white","border-bottom"],[1,"font-weight-bolder","pointer-cursor",3,"click"],[3,"ngClass"],["class","card-body ",3,"ngClass",4,"ngIf"],[1,"d-flex","flex-row-reverse","mb-1"],[1,"btn","btn-sm","btn-outline-secondary"],[1,"row"],[1,"col-12"],[1,"table-responsive","table-bordered"],[1,"table","table-striped","mb-0","no-wrap","align-middle","text-center"],["scope","col"],[4,"ngIf"],[1,"d-flex","justify-content-end","mt-5","p-1"],["aria-label","Default pagination",3,"pageChange","collectionSize","page","pageSize","boundaryLinks"],[1,"card-body",3,"ngClass"],[1,"form-group","col-sm-12","col-md-4","col-lg-3","mb-2"],["type","text","placeholder","Comma-Separated Offer Ids",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Offer Name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","App ID",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control","text-capitalize",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","none"],["class","form-group col-sm-12 col-md-4 col-lg-3 mb-2",4,"ngIf"],[1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"value"],[3,"value"],[1,"form-group","text-sm-start","text-md-center","mb-2"],["type","submit","appDebounceClick","",1,"btn","btn-outline-primary","me-2",3,"click"],["type","button",1,"btn","btn-outline-danger","me-2"],["value","item.value.value",4,"ngFor","ngForOf"],["value","item.value.value"],[4,"ngFor","ngForOf"],["alt","",2,"width","30px",3,"src"],[3,"title"],["href","","target","_blank",1,"text-primary",3,"routerLink"],[1,"no-margin"],[1,"text-center"],[4,"ngIf","ngIfElse"],["placement","top",3,"ngbTooltip"],["target","_blank","placement","top",3,"href","ngbTooltip"],["alt","",2,"width","40px",3,"src"],["src","../../../../assets/images/icon/unknown.svg","alt","",2,"width","40px"],[1,"form-check","d-flex"],["type","button",1,"btn","btn-sm","btn-outline-success","h-100",3,"click"]],template:function(s,n){1&s&&(t.j41(0,"div",2)(1,"div",3)(2,"span",4),t.bIt("click",function(){return n.showOptions=!n.showOptions}),t.EFF(3," OPTIONS "),t.nrm(4,"i",5),t.k0s()(),t.DNE(5,I,45,18,"div",6),t.k0s(),t.j41(6,"div",7)(7,"button",8),t.EFF(8,"Apply"),t.k0s()(),t.j41(9,"div",9)(10,"div",10)(11,"div",2)(12,"div",11)(13,"table",12)(14,"thead")(15,"tr"),t.nrm(16,"th"),t.j41(17,"th",13),t.EFF(18,"Offer"),t.k0s(),t.j41(19,"th",13),t.EFF(20,"Geo"),t.k0s(),t.j41(21,"th",13),t.EFF(22,"Currency/Type"),t.k0s(),t.j41(23,"th",13),t.EFF(24,"OS"),t.k0s(),t.j41(25,"th",13),t.EFF(26,"Payout"),t.k0s(),t.j41(27,"th"),t.EFF(28),t.k0s()()(),t.DNE(29,M,2,1,"tbody",14),t.k0s()(),t.j41(30,"div",15)(31,"ngb-pagination",16),t.mxI("pageChange",function(a){return t.DH7(n.page,a)||(n.page=a),a}),t.bIt("pageChange",function(a){return n.getPage(a)}),t.k0s()()()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",n.showOptions?"fa fa-minus":"fa fa-plus"),t.R7$(),t.Y8G("ngIf",n.showOptions),t.R7$(23),t.JRh("all"===n.offerVisibleType?"Status/Action":"Status"),t.R7$(),t.Y8G("ngIf",n.offersData.length),t.R7$(2),t.Y8G("collectionSize",n.offersData.length),t.R50("page",n.page),t.Y8G("pageSize",10)("boundaryLinks",!0))},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.QX,l.lG,p.X1,p.xH,p.y7,p.me,p.wz,p.BC,c.c9,c.s5,p.YN,p.vS,_.iI,_.Wk,v.iB,c.zr,c.UN,c.md,v.Bx],styles:[".pointer-cursor[_ngcontent-%COMP%]{cursor:pointer}"]})}return i})();const P=i=>[i];function L(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",32),t.bIt("click",function(){t.eBV(e),t.XpG();const n=t.sdS(43),r=t.XpG();return t.Njj(r.copyLink(n))}),t.j41(1,"button",33),t.nrm(2,"i",34),t.k0s()()}2&i&&(t.R7$(),t.Y8G("closeDelay",100))}function A(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",35),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.applyOfferByPublisher(n.offerData._id))}),t.j41(1,"span",36),t.EFF(2," apply "),t.k0s()()}}function J(i,o){if(1&i&&(t.j41(0,"div",38)(1,"p",12)(2,"strong"),t.EFF(3,"Daily Clicks: "),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&i){const e=t.XpG().$implicit;t.R7$(5),t.SpI("",e.value," ")}}function U(i,o){if(1&i&&(t.j41(0,"div",38)(1,"p",12)(2,"strong"),t.EFF(3,"Monthly Clicks: "),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&i){const e=t.XpG().$implicit;t.R7$(5),t.SpI("",e.value," ")}}function H(i,o){if(1&i&&(t.j41(0,"div",38)(1,"p",12)(2,"strong"),t.EFF(3,"Daily Conversion: "),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&i){const e=t.XpG().$implicit;t.R7$(5),t.SpI("",e.value," ")}}function q(i,o){if(1&i&&(t.j41(0,"div",38)(1,"p",12)(2,"strong"),t.EFF(3,"Monthly Conversion: "),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&i){const e=t.XpG().$implicit;t.R7$(5),t.SpI("",e.value," ")}}function z(i,o){if(1&i&&(t.qex(0),t.DNE(1,J,6,1,"div",37)(2,U,6,1,"div",37)(3,H,6,1,"div",37)(4,q,6,1,"div",37),t.bVm()),2&i){const e=o.$implicit;t.R7$(),t.Y8G("ngIf","daily_clicks"==e.key),t.R7$(),t.Y8G("ngIf","monthly_clicks"==e.key),t.R7$(),t.Y8G("ngIf","daily_conv"==e.key),t.R7$(),t.Y8G("ngIf","monthly_conv"==e.key)}}function W(i,o){if(1&i&&(t.j41(0,"div",20)(1,"p",12)(2,"strong"),t.EFF(3),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&i){const e=o.$implicit,s=o.index;t.R7$(3),t.SpI("",s+1,". "),t.R7$(2),t.JRh(e.tracking_link?e.tracking_link:"No Link")}}function K(i,o){if(1&i&&(t.j41(0,"div",5),t.DNE(1,W,6,2,"div",39),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.offerData.creative)}}function Q(i,o){if(1&i){const e=t.RV6();t.j41(0,"i",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.showOsVersion())}),t.k0s()}if(2&i){const e=t.XpG(2);t.Y8G("ngClass",t.eq3(1,P,e.showOsVersionDiv?"fa-chevron-down":"fa-chevron-right"))}}function Z(i,o){if(1&i&&(t.j41(0,"div",44)(1,"div",45)(2,"span"),t.EFF(3),t.k0s()(),t.j41(4,"div",45)(5,"span"),t.EFF(6),t.k0s()()()),2&i){const e=o.$implicit;t.R7$(3),t.JRh(e.os),t.R7$(3),t.JRh(e.version)}}function tt(i,o){if(1&i&&(t.qex(0),t.j41(1,"div",41)(2,"div",42)(3,"strong"),t.EFF(4,"Os"),t.k0s()(),t.j41(5,"div",42)(6,"strong"),t.EFF(7,"Version"),t.k0s()()(),t.DNE(8,Z,7,2,"div",43),t.bVm()),2&i){const e=t.XpG(2);t.R7$(8),t.Y8G("ngForOf",e.offerData.device_targeting.os_version)}}function et(i,o){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=o.$implicit;t.R7$(),t.SpI(" ",e.value,", ")}}function it(i,o){if(1&i&&(t.qex(0),t.DNE(1,et,2,1,"ng-container",24),t.bVm()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.offerData.geo_targeting.country_allow)}}function nt(i,o){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=o.$implicit;t.R7$(),t.SpI(" ",e.value,", ")}}function st(i,o){if(1&i&&(t.qex(0),t.DNE(1,nt,2,1,"ng-container",24),t.bVm()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.offerData.geo_targeting.country_deny)}}function ot(i,o){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=o.$implicit;t.R7$(),t.SpI(" ",e.value,", ")}}function rt(i,o){if(1&i&&(t.qex(0),t.DNE(1,ot,2,1,"ng-container",24),t.bVm()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.offerData.geo_targeting.city_allow)}}function at(i,o){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=o.$implicit;t.R7$(),t.SpI(" ",e.value,", ")}}function ft(i,o){if(1&i&&(t.qex(0),t.DNE(1,at,2,1,"ng-container",24),t.bVm()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.offerData.geo_targeting.city_deny)}}function lt(i,o){if(1&i&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"a",7),t.nrm(6,"img",8),t.k0s()(),t.j41(7,"div",9)(8,"div",10)(9,"h5",11),t.EFF(10),t.k0s(),t.j41(11,"p",12)(12,"strong"),t.EFF(13,"Offer Id: "),t.k0s(),t.j41(14,"span"),t.EFF(15),t.k0s()(),t.j41(16,"p",12)(17,"strong"),t.EFF(18,"Status: "),t.k0s(),t.j41(19,"span"),t.EFF(20),t.k0s()(),t.j41(21,"p",12)(22,"strong"),t.EFF(23,"Preview Url: "),t.k0s(),t.j41(24,"a",13),t.EFF(25),t.k0s()(),t.j41(26,"p",12)(27,"strong"),t.EFF(28,"Category: "),t.k0s(),t.j41(29,"span"),t.EFF(30),t.k0s()(),t.j41(31,"p",12)(32,"strong"),t.EFF(33,"App id: "),t.k0s(),t.j41(34,"span"),t.EFF(35),t.k0s()()()()()(),t.j41(36,"div",4)(37,"div",10)(38,"div",14)(39,"div",15)(40,"span",16),t.EFF(41,"Link"),t.k0s()(),t.nrm(42,"input",17,0),t.DNE(44,L,3,1,"div",18)(45,A,3,0,"div",19),t.k0s()()(),t.j41(46,"div",4)(47,"div",10)(48,"h5",11),t.EFF(49,"Description:"),t.k0s(),t.j41(50,"div",5)(51,"div",20)(52,"p",12),t.nrm(53,"span",21),t.k0s()()(),t.nrm(54,"br"),t.j41(55,"h5",11),t.EFF(56,"KPI:"),t.k0s(),t.j41(57,"div",5)(58,"div",20)(59,"p",12),t.nrm(60,"span",22),t.k0s()()()()(),t.j41(61,"div",5)(62,"div",23)(63,"div",4)(64,"div",10)(65,"h5",11),t.EFF(66,"Cap Details:"),t.k0s(),t.j41(67,"div",5),t.DNE(68,z,5,4,"ng-container",24),t.nI1(69,"keyvalue"),t.k0s()()()()(),t.j41(70,"div",25)(71,"div",10)(72,"h5",11),t.EFF(73,"Creatives:"),t.k0s(),t.DNE(74,K,2,1,"div",26),t.k0s()()(),t.j41(75,"div",27)(76,"div",4)(77,"div",10)(78,"h5",11),t.EFF(79,"Payout:"),t.k0s(),t.j41(80,"div",5)(81,"div",28)(82,"p",12)(83,"strong"),t.EFF(84,"Payout Type: "),t.k0s(),t.j41(85,"span"),t.EFF(86),t.k0s()()(),t.j41(87,"div",28)(88,"p",12)(89,"strong"),t.EFF(90,"Payout: "),t.k0s(),t.j41(91,"span"),t.EFF(92),t.nI1(93,"number"),t.k0s()()(),t.j41(94,"div",28)(95,"p",12)(96,"strong"),t.EFF(97,"Currency: "),t.k0s(),t.j41(98,"span"),t.EFF(99),t.k0s()()()()()(),t.j41(100,"div",4)(101,"div",10)(102,"h5",11),t.EFF(103,"Device Platform:"),t.k0s(),t.j41(104,"div",5)(105,"div",28)(106,"p",12)(107,"strong"),t.EFF(108,"Device: "),t.k0s(),t.j41(109,"span"),t.EFF(110),t.k0s()()(),t.j41(111,"div",28)(112,"p",12)(113,"strong"),t.EFF(114,"OS: "),t.k0s(),t.j41(115,"span"),t.EFF(116),t.k0s()()(),t.j41(117,"div",29)(118,"p",12)(119,"strong"),t.EFF(120,"OS Version: "),t.k0s(),t.DNE(121,Q,1,3,"i",30),t.k0s(),t.DNE(122,tt,9,1,"ng-container",31),t.k0s()()()(),t.j41(123,"div",4)(124,"div",10)(125,"h5",11),t.EFF(126,"Geo Targeting:"),t.k0s(),t.j41(127,"div",5)(128,"div",20)(129,"p",12)(130,"strong"),t.EFF(131,"Country Allow: "),t.k0s(),t.j41(132,"span"),t.DNE(133,it,2,1,"ng-container",31),t.k0s()()(),t.j41(134,"div",20)(135,"p",12)(136,"strong"),t.EFF(137,"Country Deny: "),t.k0s(),t.j41(138,"span"),t.DNE(139,st,2,1,"ng-container",31),t.k0s()()(),t.j41(140,"div",20)(141,"p",12)(142,"strong"),t.EFF(143,"City Allow: "),t.k0s(),t.j41(144,"span"),t.DNE(145,rt,2,1,"ng-container",31),t.k0s()()(),t.j41(146,"div",20)(147,"p",12)(148,"strong"),t.EFF(149,"City Deny: "),t.k0s(),t.j41(150,"span"),t.DNE(151,ft,2,1,"ng-container",31),t.k0s()()()()()()()()),2&i){const e=t.XpG();t.R7$(5),t.FS9("href",e.offerData.preview_url,t.B4B),t.R7$(),t.FS9("src",e.offerData.thumbnail,t.B4B),t.R7$(4),t.JRh(e.offerData.offer_name),t.R7$(5),t.JRh(e.offerData._id),t.R7$(4),t.ZvI("label ",e.offerData.status_label," text-white p-1 rounded-1 bg-success"),t.R7$(),t.JRh(e.offerData.status_label),t.R7$(4),t.FS9("href",e.offerData.preview_url,t.B4B),t.R7$(),t.JRh(e.offerData.preview_url),t.R7$(5),t.JRh(e.offerData.category),t.R7$(5),t.JRh(e.offerData.app_id),t.R7$(7),t.FS9("value",e.offerData.tracking_link),t.Y8G("disabled",!e.offerData.tracking_link),t.R7$(2),t.Y8G("ngIf",e.offerData.tracking_link),t.R7$(),t.Y8G("ngIf",!e.offerData.tracking_link&&0==e.offerData.status),t.R7$(8),t.Y8G("innerHtml",e.htmlDecode(e.offerData.description),t.npT),t.R7$(7),t.Y8G("innerHTML",e.htmlDecode(e.offerData.kpi),t.npT),t.R7$(8),t.Y8G("ngForOf",t.bMT(69,31,e.offerData.offer_capping)),t.R7$(6),t.Y8G("ngIf",e.offerData.creative.length>0),t.R7$(12),t.JRh(e.offerData.payout_type.offer_type),t.R7$(6),t.JRh(t.i5U(93,33,e.offerData.payout,"1.1-4")),t.R7$(7),t.JRh(e.offerData.currency),t.R7$(11),t.JRh(e.offerData.device_targeting.device),t.R7$(6),t.JRh(e.offerData.device_targeting.os),t.R7$(5),t.Y8G("ngIf",e.offerData.device_targeting.os_version.length),t.R7$(),t.Y8G("ngIf",e.showOsVersionDiv),t.R7$(11),t.Y8G("ngIf",e.offerData.geo_targeting&&e.offerData.geo_targeting.country_allow),t.R7$(6),t.Y8G("ngIf",e.offerData.geo_targeting&&e.offerData.geo_targeting.country_deny),t.R7$(6),t.Y8G("ngIf",e.offerData.geo_targeting&&e.offerData.geo_targeting.city_allow),t.R7$(6),t.Y8G("ngIf",e.offerData.geo_targeting&&e.offerData.geo_targeting.city_deny)}}const ct=d.config,pt=[{path:"",children:[{path:"all",component:g,data:{title:"All Offers",urls:[{title:"Dashboard",url:"/"},{title:"All Offers "}]}},{path:"active",component:g,data:{title:"Active Offers",urls:[{title:"Dashboard",url:"/"},{title:"Active Offers"}]}},{path:"private",component:g,data:{title:"Private Offers",urls:[{title:"Dashboard",url:"/"},{title:"Private Offers"}]}},{path:"public",component:g,data:{title:"Public Offers",urls:[{title:"Dashboard",url:"/"},{title:"Public Offers"}]}},{path:"detail/:id",component:(()=>{class i{constructor(e,s,n,r,a){this.activatedRoute=e,this.router=s,this.modalService=n,this.offer_service=r,this.toasterService=a,this.isCopied=!1,this.offerData=null,this.publisherDetail=[],this.defaultPublisherOfferStatus=ct.PUBLISHER_OFFERS_STATUS,this.pubOffStList=[],this.offerBlockedStatus=!1,this.extra_params="",this.linkSettings={},this.selectedPublisherId="",this.publisher_payout=0,this.publisherOffer=[],this.publisher_list=[],this.pubStatusEdit=!1,this.showGeneratedLink=!1,this.pubOffStatus=null,this.publisherPay="defaultPay",this.publisherLink="",this.pubOffSt="",this.showOsVersionDiv=!1,this.copied=!1}ngOnInit(){this.offerid=this.activatedRoute.snapshot.paramMap.get("id"),this.getOfferData(this.offerid)}getOfferData(e){this.offer_service.getOneOfferDetails(e).subscribe(s=>{s.err||(this.offerData=s.payload,this.offerData.tracking_link&&this.offer_service.showPlatform(this.offerData.advertiser_platform_id).subscribe(n=>{!n.err&&n.payload&&n.payload[0]&&n.payload[0].parameters&&(this.offerData.tracking_link=this.offerData.tracking_link+"&"+n.payload[0].parameters)}),1==this.offerData.isBlacklist&&(this.offerBlockedStatus=!0,this.toasterService.warning("This offer is blocked!!","Warning!")),!this.offerData.thumbnail&&this.offerData.device_targeting.os.length&&("ios"==this.offerData.device_targeting.os[0].toLowerCase()?this.offerData.thumbnail="../../../../../../assets/images/icon/ios.svg":"android"==this.offerData.device_targeting.os[0].toLowerCase()&&(this.offerData.thumbnail="../../../../../../assets/images/icon/android.svg")))})}applyOfferByPublisher(e){this.modal.title="Apply Offer",this.modal.body="Confirm if you want to apply this offer.",this.modal.style.size=u.or.sm,this.modal.type=u.q3.Confirm;const s=this.modalService.open(this.modal.style);s.componentInstance.modal=this.modal,s.result.then(n=>{"true"==n&&this.offer_service.publisherApplyOffersRequest({offerIds:[e]}).subscribe(r=>{r.err?this.toasterService.error(r.msg,"Error!"):(this.toasterService.success(r.msg,"Success!"),this.getOfferData(this.offerid))})})}getStatusLabel(e){let s=null;for(let n in this.defaultPublisherOfferStatus)if(this.defaultPublisherOfferStatus[n].value==e){s=this.defaultPublisherOfferStatus[n].label;break}return s}showOsVersion(){this.showOsVersionDiv=!this.showOsVersionDiv}htmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}copyLink(e){e.select(),document.execCommand("copy"),e.setSelectionRange(0,0)}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(_.nX),t.rXU(_.Ix),t.rXU(c.Bq),t.rXU(y),t.rXU(F.tw))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-offers-details"]],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["input",""],["class","row mb-1",4,"ngIf"],[1,"row","mb-1"],[1,"col-md-8"],[1,"card","mb-1"],[1,"row"],[1,"col-md-2","col-sm-2","text-center"],["target","_blank","rel","noopener noreferrer",3,"href"],["alt","",1,"card-img","offer-logo",3,"src"],[1,"col-md-10","col-sm-10"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["target","_blank","rel","noopener noreferrer",1,"text-primary",3,"href"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"value","disabled"],["class","input-group-append","placement","bottom","ngbTooltip","Copy Link",3,"click",4,"ngIf"],["class","input-group-append",3,"click",4,"ngIf"],[1,"col-md-12"],[3,"innerHtml"],[3,"innerHTML"],[1,"col-md-12","card-group"],[4,"ngFor","ngForOf"],[1,"card"],["class","row",4,"ngIf"],[1,"col-md-4"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"col-lg-12","col-md-12","col-sm-12"],["class","pointer-cursor pl-1 pr-1 fas ",3,"ngClass","click",4,"ngIf"],[4,"ngIf"],["placement","bottom","ngbTooltip","Copy Link",1,"input-group-append",3,"click"],["type","button","placement","bottom","triggers","click","ngbTooltip","Copied",1,"input-group-text","cursor-pointer","h-100",3,"closeDelay"],[1,"fas","fa-copy"],[1,"input-group-append",3,"click"],[1,"input-group-text","btn-primary","cursor-pointer"],["class","col-md-12 col-lg-12 col-sm-12",4,"ngIf"],[1,"col-md-12","col-lg-12","col-sm-12"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"pointer-cursor","pl-1","pr-1","fas",3,"click","ngClass"],[1,"row","no-gutters","mt-2"],[1,"col-sm-6","col-6","h6","m-0"],["class","row no-gutters",4,"ngFor","ngForOf"],[1,"row","no-gutters"],[1,"col-sm-6","col-6","small","m-0"]],template:function(s,n){1&s&&t.DNE(0,lt,152,36,"div",1),2&s&&t.Y8G("ngIf",n.offerData)},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.QX,l.lG,c.zr,c.UN,c.md]})}return i})(),data:{title:"Offer Details",urls:[{title:"Dashboard",url:"/"},{title:"Offer Details"}]}}]}]}}]);